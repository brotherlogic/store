syntax = "proto3";

package store;

message Mutation {
  int32 field = 1;

  oneof value {
    string string_value = 2;
    int64 int64_value = 3;
  }
}

message Key {
  string path = 1;
  int32 version = 2;
}

message WriteRequest {
  Key key = 1;
  repeated Mutation mutations = 2;
}

message WriteResponse {
  Key key = 1;
}

service StoreService {
  rpc Write(WriteRequest) returns (WriteResponse) {};
  
}